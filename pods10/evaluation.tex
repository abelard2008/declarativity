\section{Evaluation models}

Consider the \emph{successor} relation described above.  According to our intuitive interpretation, this relation models
the passage of time, in order to establish a temporal order among ground atoms.  More formally, we expect of a successor
relation $S$ that

$\forall A,B (successor(A, B) \rightarrow B > A) \land \forall A \exists B (successor(A, B))$

This implies that successor is infinite (as we'd expect time to be).  This is problematic because it leads to unsafe programs.

\newtheorem{example}{Example}
%%\begin{example}
Assume that successor is infinite.  Consider the program and EDB below.

\begin{Dedalus}
r1
p_pos(A, B)@next \(\leftarrow\)
  p_pos(A, B),
  \(\lnot\)p_neg(A, B);
  
p_pos(A, B)  \(\leftarrow\)
  p(A, B);
  
p(1, 2)@123;
delete p(1, 2)@456;
p(?, ?)@789;
  
\end{Dedalus}

The single ground fact will, due to \emph{r1}, cause as many deductions as there are tuples in the successor relation.
But these are in some sense \emph{void deductions}, because they are functionally determined based on the EDB.
The EDB determines a window over successor that is relevant to any computation that must be performed.  It is easy
to see that in this example, we need only consider a successor relation that contains values that range from 123 - 789.


%%\end{example}

\begin{definition}
A \emph{post-hoc} evaluation is an evaluation of a Dedalus program in which the EDB is given, and \emph{successor} is derived from it.
\end{definition}

In a post-hoc evaluation, we may use the given EDB to populate the successor relation in the following way:

Define first a second order predicate called \emph{event\_time} 
that contains the union of the time attributes from the trace of events; i.e.

$event\_time(Time) \leftarrow \displaystyle\bigcup_{i}^n \pi_{Time}Trace_{i}$

\begin{Dedalus}
smax(max<N>) \(\leftarrow\) event\_time(N);
smin(min<N>) \(\leftarrow\) event\_time(N);

successor(N, N + 1) \(\leftarrow\) smin(N);

successor(S, S + 1) \(\leftarrow\) 
    successor(N, S),
    smax(M),
    N <= M;
\end{Dedalus}
