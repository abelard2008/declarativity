%!TEX root = proposal.tex
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Evaluation Plan and Metrics}

For aspects of the research that involve \textbf{mathematical work} (theorems, algorithms, etc.), some of the evaluation will necessarily be mathematical in nature, and judged by peer review in publications.

For aspects of the work that involve \textbf{engineering artifacts}, evaluation will entail performance studies using large public data sets, with the software running on multiple computers hosted in commercial cloud services like Amazon EC2.  Microbenchmarks may focus on small numbers of computers and modest amounts of data, but there will be a focus on macrobenchmarks that use hundreds or thousands of machines and massive datasets (Terabytes to Petabytes).  Although there are no languages with equivalent analysis support, we intend to compare the performance of Bloom programs against other systems when appropriate to validate our approach. Quantitative results from these evaluations will be written up in scholarly papers and judged by peer review in publications.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Broader Impact and Education Plan}

Beyond the scientific and engineering impact of our proposed system,
the impact of this project will be realized by a new educational
curriculum and by the ongoing release of open-source code.  


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Course Development: Offline and Online}

In our early work, we were eager to validate the Bloom language and the CALM coordination tools that go with it.  So in Fall 2011, PI Hellerstein and one of his graduate students, Peter Alvaro, taught an undergraduate course on distributed systems at Berkeley called Programming the Cloud (\myurl{http://programthecloud.github.com/}).  We taught a variety of conceptual issues in distributed systems including distributed clocks and ordering, concurrency control, data replication, data partitioning, commit and consensus protocols, distributed hash tables, and parallel dataflow processing.  The students were given assignments to implement many of these features in Bloom using the Bud prototype, including FIFO delivery, two-phase locking, quorum replication,  distributed deadlock detection, and two-phase commit.  In addition, they broke up into teams to implement a number of more advanced features out of these components including: an alarm server, distributed counters, distributed membership and leader election, multicast, distributed queues, distributed votes, Paxos, and MapReduce.  Through this process we identified weaknesses in the Bloom syntax and runtime, and we also found that the language---and its framework for thinking about distributed computing---was relatively natural and powerful for enabling these talented undergraduates to engage in a tangible way with serious issues in distributed systems.

In the coming years we wish to expand the course along the lines described in this proposal: increase the focus on large data sets, expand the language discussion to encompass new monotonic constructs, focus on orchestrating Service-Oriented Architectures in the cloud, and reason about debugging distributed systems in a more organized and better-tooled fashion.  

Moreover, we plan to scale the class itself to the Cloud, by hosting it online as a Massive Open Online Course (MOOC) at Coursera.com or a similar facility.  The plan is to offer a version of the course in person each year at Berkeley to a moderate audience (50-100 students), and then post lectures and homeworks to the MOOC after a lag of a month or two; the delay will facilitate polishing the material and ensuring that homeworks can be self-managed.



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Capacity Building Activities and Goals}

\commentout{
Our proposed  The current audience for the kind of Big
Data technologies we explore are trained professionals, and we believe
that the best way to reach them is by building useful software
artifacts, and by engaging them in the context of industry and
open-source events as we describe below.
}

\commentout{
As part of that agenda, we intend
to ensure that we can compile our DSLs to common infrastructure like
the Hadoop MapReduce engine and SQL databases: this will ease adoption
of (a less interactive) version of FOO, which in turn can pave
the way for the adoption of the unique features of BAR.

In addition to building software artifacts, an important goal of this team is to engage fruitfully in outreach between federally-funded academic research, the private sector, and the public eye.  The PIs have been very active in this space in recent years:  
\joe{Please complete your section below---I gave Jeff and Carlos a headstart.}
}

 
Capacity-building activities will focus on ``infrastructure for data
storage, access and shared services,'' and ``training and
communication strategies.''  The PI has a track record of
delivering significant open source software systems and
supporting them to achieve broad usage.  Examples include the MADlib in-database analytics library~\cite{madlib} which
was adopted by EMC and is used by a variety of their customers, the Telegraph adaptive dataflow system~\cite{telegraph} which led to a startup company called Truviso (recently acquired by Cisco), and the Data Wrangler system~\cite{datawrangler} which is in wide use in open source and frequently mentioned online as a leading tool for data cleaning and transformation.  

In
terms of dissemination and training, the PI established the open-source MADlib
  collaboration between industry and academia, convincing EMC to
  contribute dedicated engineers~\cite{madlib}.  He also has served as an academic
  speaker in industry discussions of Big Data at a wide range of venues: EMC Data Science Summit (2011
  and 2012), Accel Partners Big Data Conference at Stanford,
  O'Reilly's Strata conference on Big Data (2011), and talks in
  industry (Google, LinkedIn).  Maintains a widely-read blog on
  research matters in Data and Computation (databeta.wordpress.com),
  and served as a guest blogger at popular industry blogs including
  O'Reilly Radar and GigaOm.  Advises a number of Big Data companies
  (EMC, SurveyMonkey, Platfora, Captricity). Advises
  a venture fund called Data Collective that focuses on Big Data
  startups. Participates actively in discussions among Data
  Scientists, engineers, entrepreneurs and industry watchers on
  Twitter (@joe\_hellerstein).

%\end{tightitemize}
It is an explicit goal of this proposal to develop the open-source
FOOBAR system so it can reach such a wide
audience.  We will also continue to hold workshops and tutorials to
evangelize and support our open source projects, as we have done with
GraphLab and D3, in addition to interacting at industry events on
Big Data.
%---including formal events like conferences and informal events like the Big Data.
\commentout{ ``meetups'' and ``drinkups'' in the Bay Area.
As noted in Broader Impact, Hellerstein will teach an online course on
cloud programming in 2013 via Coursera or a similar venue, with the
goal of teaching thousands of students about topics relating to this
proposal.
}






\commentout{
\paragraph{FROM THE CALL:}

\begin{verbatim}

Capacity-building Requirement (CB). CB activities are critical to the
growth and health of this emerging area of research and
education. There are three broad types of CB activities: 1)
appropriate models, policies and technologies to support responsible
and sustainable big data stewardship; 2) training and communication
strategies, targeted to the various research communities and/or the
public; and 3) sustainable, cost-effective infrastructure for data
storage, access and shared services.

To develop a coherent set of stewardship, outreach and education
activities in big data discovery, each research proposal must focus on
at least one capacity-building activity. Examples include, but are not
limited to:

Novel, effective frameworks of roles and responsibilities for various
big data stakeholders (i.e., researchers, collaborators, research
communities, research institutions, funding agencies); Efficient and
effective models for data management, considering issues such as
structure and formatting of data, standardization of terminology,
metadata and provenance, persistent identifiers, data quality, etc.;
Development of accurate cost models and structures;
Establishing appropriate cyberinfrastructure models, prototypes and facilities for long-term sustainable data;
Policies and processes for evaluating data value and balancing cost with value in an environment of limited resources;
Policies and procedures to ensure appropriate access and use of data resources
Economic sustainability models;
Community standards, provenance tracking, privacy, and security;
Communication strategies for public outreach and engagement;
Education and workforce development; and
Broadening participation in big data activities.
\end{verbatim}
}

\commentout{

 It is perhaps simplest to outline the project milestones with respect to their appearance in the FOOBAR software.  Tasks listed at time when initial results expected: {\footnotesize
  \begin{center}
    \begin{tabular}{|l|p{1in}|p{1in}|p{1in}|p{1in}|p{1in}|}\hline
             & Active and Weakly-Supervised Learning & Mixed-Initiative Interactions &
             Hierarchical Big Data & Online Graph-Based ML & System Synthesis from DSLs  
             \\\hline
      Year 1 &   80\%   &    &  &   & FOO and BAR DVM prototypes, GraphLab and declarative DSLs  \\\hline
      Year 2 &    20\%   &   60\%   &  20\% & &   Node-centric and Parallel Traversal graph DSLs, isomorphisms on monotonic sublanguages.  DVM perf improvement. \\\hline
      Year 3 &        &       20\% & 80\%  & & Compiler analysis: coordination and perf optimization. Compilation of graph algorithms to MapReduce and SQL.   \\\hline
      Year 4 &        &             &      & & Aim for compiler output to compete with hand-written code in other systems.  Formal results on coordination requirements for graph algorithms. \\\hline
      Year 5 &        &             &      & & Completed design of canonical FOOBAR graph DSL, robust compilation of efficient programs to all target platforms. \\\hline
    \end{tabular}
  \end{center}}
This project is, of course, ambitious, with a very large scope.
However, we expect to be able to achieve the proposed tasks by
exploiting the PIs previous experience, ongoing efforts, and
synergies from ongoing collaborations.
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Results from Prior NSF Funded Collaborations Between PIs}
\label{sec:prior}

Over the last 5 years, PI Hellerstein has received six NSF grants, four of which have been completed or will be completed this year.  The most relevant of the completed grants is \jmh{fill in the MUNDO grant.}
Of the remaining two, grant 1016924 focuses on system recovery in cloud computing; it
completes in 2013 and has no substantive overlap with this
proposal. Grant 0963922 focuses on \emph{Social Data Analysis}, in which groups of people collaborate to analyze data.  Hellerstein's prior NSF grants have supported dozens of top-tier publications, successful PhD students, and
open source software including the Bloom programming language,
which in 2010 was recognized by MIT Technology Review as one of 10
technologies ``most likely to change our world''.


\newpage

\bibliographystyle{plain}
\bibliography{boom-msr,graphlab}

\newpage



\section*{Data Management Plan}

% \textbf{
% Proposals must include a supplementary document of no more than two
% pages labeled "Data Management Plan".  Simultaneously submitted
% collaborative proposals and proposals that include subawards are a
% single unified project and should include only one supplemental
% combined Data Management Plan, regardless of the number of non-lead
% collaborative proposals or subawards included. Fastlane will not
% permit submission of a proposal that is missing a Data Management
% Plan.}

This proposal focuses on the development of programming languages for Big Data, program analysis tools, and distributed systems infrastructure implemented in such languages.  There are a variety of use cases for the work that will benefit from experimentation with large data sets.  Fortunately, there is a plethora of free, open data sets available in the public domain.  We do not intend to produce or curate data during the course of our work.

As discussed in the Project Description, the PI has a strong track record of producing open-source research software that is widely disseminated.  We expect to do the same here.


\paragraph{Types of data, samples, physical collections, software,
  curriculum materials, and other materials to be produced in the
  course of the project:}  One of the key goals of this proposal is the development of new versions of Bloom, which will be released to the public under the BSD open source license. The software will include documentation and comments to facilitate reuse. Datasets used for evaluation will be those available in the public domain, from public sources such as Amazon Web Services' Public Data Sets (http://aws.amazon.com/publicdatasets/) and InfoChimps.com.

\paragraph{Standards to be used for data and metadata format and
  content:}  The work of this proposal is focused on software development issues surrounding large-scale distributed systems for managing Big Data.  Most such systems can be explored in a manner that is indendent of data or metadata formats, and hence we do not expect to develop canonical formats for data.  

\paragraph{Policies for access and sharing including provisions for
  appropriate protection of privacy, confidentiality, security,
  intellectual property, or other rights or requirements:}  The
software will be available in a public code repository like Github, under an open source license.  No privacy concerns are apparent at this point.

\paragraph{Policies and provisions for re-use, re-distribution, and
  the production of derivatives:} Our proposed language will be made
available at our group website. 

\paragraph{Plans for archiving data, samples, and other research
  products, and for preservation of access to them:}  We plan to
maintain the primary copy of our software at an online repository such as Github, where it will be permanently archived in their repository.  


\section*{Software Sharing Plan}

As with the PI's previous projects, new versions of the Bloom language and its analysis tools will be
released open-source, under the common, liberal BSD license.  We will follow the ``release early, release often''
strategy, where we will early on connect with potential users, and use
their feedback to correct direction if needed.  

In terms of capabilities, we expect that the releases of Bloom will develop as follows: 
\begin{tightitemize}
\item\textbf{Year 1}: Extension of Bloom to incorporate arbitrary lattices, not only sets.  Extension of CALM analysis to monotonic lattice programs.

\item\textbf{Year 2}: Support for the use of Bloom as an orchestration langage for composing services and analyzing composite properties.  Analysis of the use of wide-area distributed storage as a service within the context of whole-program analysis.

\item\textbf{Year 3}: Efficient debug and test suites for Bloom that reflect both CALM theory and programmer practicalities.
\end{tightitemize}


% \section*{Software Sharing Plan}
% 
% \textbf{ A brief software dissemination plan (with appropriate
%   timelines) must accompany the Data Management Plan. It can be part
%   of the 2-page Data Management Plan Supplementary Document. If two
%   pages are insufficient for Data Management and Software Sharing
%   Plans, then the Software Sharing Plan can be included under a
%   separate heading in the Project Description. }

