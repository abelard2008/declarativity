program test;

define(t1, keys(0), {String, String});
define(doping, {String, String, Long});
define(ping, {String, String, Long});
define(pong, {String, String, Long});
define(link, keys(0,1), {String, String});

t1("tcp:localhost:10001", "pingme");

r2
ping(@B, A, Id) :- doping(@A, B, Id), t1(@B, C), C == "pingme";

r3
pong(@A, B, Id) :- ping(@B, A, Id);
